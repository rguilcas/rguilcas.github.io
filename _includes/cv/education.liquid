{% comment %}
  Unified education entry renderer for both RenderCV and JSONResume formats
{% endcomment %}

<ul class="cv-list">
  {% for entry in entries %}
    <li class="cv-item {% if entry.logo %}cv-item-with-logo{% endif %}">
      {% if entry.logo %}
        <div class="cv-item-logo">
          <img src="{{ base_path }}/images/{{ entry.logo }}" alt="{{ entry.institution }} logo">
        </div>
      {% endif %}
      <div class="cv-item-content">
      <div class="cv-item-header">
        <div class="cv-item-title-group">
          {% capture study_type %}
            {% if entry.studyType %}{{ entry.studyType }}{% elsif entry.degree %}{{ entry.degree }}{% endif %}
          {% endcapture %}

          {% if entry.url %}
            <div class="cv-item-title"><a href="{{ entry.url }}">{{ study_type }}</a></div>
          {% elsif study_type != '' %}
            <div class="cv-item-title">{{ study_type }}</div>
          {% endif %}

          {% if entry.institution %}
            <div class="cv-item-subtitle">{{ entry.institution }}</div>
          {% endif %}
        </div>

        {% capture start_date %}
          {% if entry.start_date %}{{ entry.start_date }}{% elsif entry.startDate %}{{ entry.startDate }}{% endif %}
        {% endcapture %}
        {% capture end_date %}
          {% if entry.end_date %}{{ entry.end_date }}{% elsif entry.endDate %}{{ entry.endDate }}{% endif %}
        {% endcapture %}

        {% if start_date != '' %}
          {% assign startDate = start_date | split: '-' | first %}
          {% assign endDateRaw = end_date | split: '-' | first | default: 'Present' %}
          {% if startDate == endDateRaw %}
            <div class="cv-item-date">{{ startDate }}</div>
          {% else %}
            <div class="cv-item-date">{{ startDate }} â€” {{ endDateRaw }}</div>
          {% endif %}
        {% endif %}
      </div>

      {% if entry.area %}
        <div class="cv-item-detail" style="font-style: italic; margin-bottom: 0.5rem;">
          {{ entry.area }}
        </div>
      {% endif %}

      {% capture location %}
        {% if entry.location %}{{ entry.location }}{% endif %}
      {% endcapture %}
      {% if location != '' %}
        <div class="cv-item-location">
          <i class="fa-solid fa-location-dot"></i>
          {{ location }}
        </div>
      {% endif %}

      {% if entry.courses or entry.highlights %}
        <div class="cv-item-detail">
          <ul>
            {% for item in entry.courses %}
              <li>{{ item }}</li>
            {% endfor %}
            {% for item in entry.highlights %}
              <li>{{ item | markdownify | remove: '<p>' | remove: '</p>' }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      </div>
    </li>
  {% endfor %}
</ul>

